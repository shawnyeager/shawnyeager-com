name: Scheduled Netlify Build

on:
  # Schedule builds - runs every Friday at 6:30 AM CDT (11:30 AM UTC)
  # Note: GitHub Actions uses UTC and doesn't adjust for daylight saving time
  schedule:
    - cron: '30 11 * * 5'

  # Allow manual triggering from GitHub Actions tab
  workflow_dispatch:

jobs:
  trigger-netlify-build:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Netlify Deploy
        run: |
          curl -X POST -d '{}' ${{ secrets.NETLIFY_BUILD_HOOK_URL }}

      - name: Build triggered
        run: |
          echo "Netlify build triggered successfully"
          echo "Check build status at: https://app.netlify.com/sites/shawnyeager/deploys"
