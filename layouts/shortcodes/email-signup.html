{{/*
Purpose: Renders inline email subscription form (for use in content pages)

Parameters:
- intro (string, optional): Custom intro text (defaults to site param)

Features:
- Uses site params for form action and default text
- Plausible analytics tracking
- Accessible with proper labels

Usage:
{{< email-signup >}}
{{< email-signup intro="Get GTM insights delivered." >}}
*/}}

{{- $intro := .Get "intro" | default .Site.Params.email_signup_text -}}

<div class="inline-email-signup">
    <p class="email-signup-intro">{{ $intro }}</p>
    <form class="email-form" action="{{ .Site.Params.email_signup_action }}" method="post" target="popupwindow">
        <label for="inline-email-subscribe" class="sr-only">Email address</label>
        <input type="email" id="inline-email-subscribe" name="email" placeholder="you@example.com" required autocomplete="email" inputmode="email" spellcheck="false">
        <button type="submit" class="btn-ghost btn-ghost--muted{{ with .Site.Params.plausible_form_event }} plausible-event-name={{ . }}{{ end }}">Subscribe</button>
    </form>
</div>
